## é€»è¾‘å›å½’

> åœ¨ä¹‹å‰çš„è¯¾ç¨‹ä¸­æˆ‘ä»¬å·²ç»å­¦ä¹ æ¥è§¦è¿‡ç›¸å…³çš„å›å½’æ¨¡å‹äº†ï¼Œæˆ‘ä»¬çŸ¥é“å›å½’æ¨¡å‹æ˜¯ç”¨æ¥å¤„ç†å’Œé¢„æµ‹è¿ç»­å‹æ ‡ç­¾çš„ç®—æ³•ã€‚ç„¶è€Œé€»è¾‘å›å½’ï¼Œæ˜¯ä¸€ç§åä¸ºâ€œå›å½’â€çš„çº¿æ€§åˆ†ç±»å™¨ï¼Œå…¶æœ¬è´¨æ˜¯ç”±çº¿æ€§å›å½’å˜åŒ–è€Œæ¥çš„ï¼Œä¸€ç§å¹¿æ³›ä½¿ç”¨äºåˆ†ç±»é—®é¢˜ä¸­çš„å¹¿ä¹‰å›å½’ç®—æ³•ã€‚è¦ç†è§£é€»è¾‘å›å½’ä»ä½•è€Œæ¥ï¼Œå¾—è¦å…ˆç†è§£çº¿æ€§å›å½’ã€‚çº¿æ€§å›å½’æ˜¯æœºå™¨å­¦ä¹ ä¸­æœ€ç®€å•çš„çš„å›å½’ç®—æ³•ï¼Œå®ƒå†™ä½œä¸€ä¸ªå‡ ä¹äººäººç†Ÿæ‚‰çš„æ–¹ç¨‹ï¼ˆä¸ºäº†æ›´å¥½ç†è§£æœ¬èŠ‚åé¢çš„è®²è§£åˆ°çš„sigmodå‡½æ•°ï¼Œä¸‹é¢çš„å›å½’å‡½æ•°ç”¨zæ¥è¡¨ç¤ºï¼‰:

![1587351192461](asserts/1587351192461.png)

> è¢«ç»Ÿç§°ä¸ºæ¨¡å‹çš„å‚æ•°ï¼Œå…¶ä¸­ğ›‰0è¢«ç§°ä¸ºæˆªè·(intercept)ï¼Œ ğ›‰1~ğ›‰n è¢«ç§°ä¸ºç³»æ•°(coefficient)ï¼Œè¿™ä¸ªè¡¨è¾¾å¼ï¼Œå…¶å®å°±å’Œæˆ‘ä»¬å°å­¦æ—¶å°±æ— æ¯”ç†Ÿæ‚‰çš„y=ax+bæ˜¯åŒæ ·çš„æ€§è´¨ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨çŸ©é˜µæ¥è¡¨ç¤ºè¿™ä¸ªæ–¹ç¨‹ï¼Œå…¶ä¸­xå’Œğ›‰éƒ½å¯ä»¥è¢«çœ‹åšæ˜¯ä¸€ä¸ªåˆ—çŸ©é˜µï¼Œåˆ™æœ‰ï¼š

![1587351221438](asserts/1587351221438.png)

> é€šè¿‡å‡½æ•°zï¼Œçº¿æ€§å›å½’ä½¿ç”¨è¾“å…¥çš„ç‰¹å¾çŸ©é˜µXæ¥è¾“å‡ºä¸€ç»„è¿ç»­å‹çš„æ ‡ç­¾å€¼y_predï¼Œä»¥å®Œæˆå„ç§é¢„æµ‹è¿ç»­å‹å˜é‡çš„ä»»åŠ¡ (æ¯”å¦‚é¢„æµ‹äº§å“é”€é‡ï¼Œé¢„æµ‹è‚¡ä»·ç­‰ç­‰)ã€‚é‚£å¦‚æœæˆ‘ä»¬çš„æ ‡ç­¾æ˜¯ç¦»æ•£å‹å˜é‡ï¼Œå°¤å…¶æ˜¯ï¼Œå¦‚æœæ˜¯æ»¡è¶³0-1åˆ†å¸ƒçš„ç¦»æ•£å‹å˜é‡ï¼Œæˆ‘ä»¬è¦æ€ä¹ˆåŠå‘¢ï¼Ÿ

> ä½¿ç”¨é€»è¾‘å›å½’æ¨¡å‹!



+ é—®é¢˜ï¼šä¸ºä»€ä¹ˆé€»è¾‘å›å½’æ¨¡å‹æ˜¯ä¸€ä¸ªåä¸ºå›å½’çš„åˆ†ç±»æ¨¡å‹å‘¢ï¼Ÿé‚£ä¹ˆå›å½’æ¨¡å‹å¦‚ä½•å®ç°çš„åˆ†ç±»æ•ˆæœå‘¢ï¼Ÿ

  + å¦‚æœçº¿æ€§å›å½’æ¨¡å‹å·²ç»è®­ç»ƒå¥½äº†ä¸€ä¸ªæ¨¡å‹ï¼Œå¯ä»¥è®¾ç½®ä¸€ä¸ªé˜ˆå€¼

    ![1587351447824](asserts/1587351447824.png)

  + Sigmodå‡½æ•°

    ![1587351459959](asserts/1587351459959.png)

    + é€šè¿‡å¼•å…¥sigmodå‡½æ•°ï¼Œå°†çº¿æ€§å›å½’æ–¹ç¨‹zå˜æ¢ä¸ºg(z)ï¼Œå¹¶ä¸”ä»¤g(z)çš„å€¼åˆ†å¸ƒåœ¨(0,1)ä¹‹é—´ï¼Œä¸”å½“g(z)æ¥è¿‘0æ—¶æ ·æœ¬çš„æ ‡ç­¾ä¸ºç±»åˆ«0ï¼Œå½“g(z)æ¥è¿‘1æ—¶æ ·æœ¬çš„æ ‡ç­¾ä¸ºç±»åˆ«1ï¼Œè¿™æ ·å°±å¾—åˆ°äº†ä¸€ä¸ªåˆ†ç±»æ¨¡å‹ã€‚

      ![1587351556185](asserts/1587351556185.png)

    + å‡½æ•°è§£é‡Š

      > Sigmoidå‡½æ•°æ˜¯ä¸€ä¸ªSå‹çš„å‡½æ•°ï¼Œå½“è‡ªå˜é‡zè¶‹è¿‘æ­£æ— ç©·æ—¶ï¼Œå› å˜é‡g(z)è¶‹è¿‘äº1ï¼Œè€Œå½“zè¶‹è¿‘è´Ÿæ— ç©·æ—¶ï¼Œg(z)è¶‹è¿‘äº0ï¼Œå®ƒèƒ½å¤Ÿå°†ä»»ä½•**å®æ•°**ï¼ˆé0å’Œ1çš„æ ‡ç­¾æ•°æ®ï¼‰**æ˜ å°„**åˆ°(0,1)åŒºé—´ï¼Œä½¿å…¶å¯ç”¨äºå°†ä»»æ„å€¼å‡½æ•°è½¬æ¢ä¸ºæ›´é€‚åˆäºŒåˆ†ç±»çš„å‡½æ•°ã€‚ å› ä¸ºè¿™ä¸ªæ€§è´¨ï¼ŒSigmoidå‡½æ•°ä¹Ÿè¢«å½“ä½œæ˜¯å½’ä¸€åŒ–çš„ä¸€ç§æ–¹æ³•ï¼Œä¸æˆ‘ä»¬ä¹‹å‰å­¦è¿‡çš„MinMaxSclaeråŒç†ï¼Œæ˜¯å±äºæ•°æ®é¢„å¤„ç†ä¸­çš„â€œç¼©æ”¾â€åŠŸèƒ½ï¼Œå¯ä»¥å°†æ•°æ®å‹ç¼©åˆ°[0,1]ä¹‹å†…ã€‚åŒºåˆ«åœ¨äºï¼ŒMinMaxScalerå½’ä¸€åŒ–ä¹‹åï¼Œæ˜¯å¯ä»¥å–åˆ°0å’Œ1çš„(æœ€å¤§å€¼å½’ä¸€åŒ–åå°±æ˜¯1ï¼Œæœ€å°å€¼å½’ä¸€åŒ–åå°±æ˜¯0)ï¼Œä½†Sigmoidå‡½æ•°åªæ˜¯æ— é™è¶‹è¿‘äº0å’Œ1ã€‚

+ é€»è¾‘å›å½’å’Œçº¿æ€§å›å½’ä¹‹é—´æœ‰æ— å…³è”å‘¢ï¼Ÿ

  + çº¿æ€§å›å½’ä¸­ z=ğ›‰Txï¼Œäºæ˜¯æˆ‘ä»¬å°†zå¸¦å…¥ï¼Œå°±å¾—åˆ°äº†äºŒå…ƒé€»è¾‘å›å½’æ¨¡å‹çš„ä¸€èˆ¬å½¢å¼

    ![1587351654913](asserts/1587351654913.png)

  + y(x)å°±æ˜¯æˆ‘ä»¬é€»è¾‘å›å½’è¿”å›çš„æ ‡ç­¾å€¼ã€‚æ­¤æ—¶y(x)çš„å–å€¼éƒ½åœ¨[0,1]ä¹‹é—´ï¼Œå› æ­¤y(x)å’Œ1-y(x)ç›¸åŠ å¿…ç„¶ä¸º1ã€‚å¦‚æœæˆ‘ä»¬ä»¤y(x)é™¤ä»¥1-y(x)å¯ä»¥å¾—åˆ°`å½¢ä¼¼å‡ ç‡çš„y(x)/1-y(x)`ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šå–å¯¹æ•°ï¼Œå¯ä»¥å¾ˆå®¹æ˜“å°±å¾—åˆ°

    ![1587351681909](asserts/1587351681909.png)

  + ä¸éš¾å‘ç°ï¼Œy(x)é€»è¾‘å›å½’çš„å½¢ä¼¼å‡ ç‡å–å¯¹æ•°çš„æœ¬è´¨å…¶å®å°±æ˜¯æˆ‘ä»¬çš„çº¿æ€§å›å½’zï¼Œæˆ‘ä»¬å®é™…ä¸Šæ˜¯åœ¨å¯¹çº¿æ€§å›å½’æ¨¡å‹çš„é¢„æµ‹ç»“æœå–å¯¹æ•°å‡ ç‡æ¥è®©å…¶çš„ç»“æœæ— é™é€¼è¿‘0å’Œ1ã€‚å› æ­¤ï¼Œå…¶å¯¹åº”çš„æ¨¡å‹è¢«ç§°ä¸ºâ€å¯¹æ•°å‡ ç‡å›å½’â€œ(logistic Regression)ï¼Œä¹Ÿå°± æ˜¯æˆ‘ä»¬çš„é€»è¾‘å›å½’ï¼Œè¿™ä¸ªåä¸ºâ€œå›å½’â€å´æ˜¯ç”¨æ¥åšåˆ†ç±»å·¥ä½œçš„åˆ†ç±»å™¨ã€‚

    ![1587351721797](asserts/1587351721797.png)

  + é€»è¾‘å›å½’æ˜¯ç”±çº¿æ€§å›å½’å˜åŒ–è€Œæ¥çš„

    ![1587437055334](asserts/1587437055334.png)

    + é€»è¾‘å›å½’çš„å½¢ä¼¼å‡ ç‡å–å¯¹æ•°å°±æ˜¯çº¿æ€§å›å½’
    + çº¿æ€§å›å½’è§£çš„å¯¹æ•°å‡ ç‡å°±æ˜¯é€»è¾‘å›å½’
    + çº¿æ€§å›å½’çš„æ ¸å¿ƒä»»åŠ¡æ˜¯é€šè¿‡æ±‚è§£Î¸æ„å»ºzè¿™ä¸ªé¢„æµ‹å‡½æ•°ï¼Œå¹¶å¸Œæœ›é¢„æµ‹å‡½æ•°zèƒ½å¤Ÿå°½é‡æ‹Ÿåˆæ•°æ®ï¼Œå› æ­¤é€»è¾‘å›å½’çš„æ ¸å¿ƒä»»åŠ¡ä¹Ÿæ˜¯ç±»ä¼¼çš„:æ±‚è§£Î¸æ¥æ„å»ºä¸€ä¸ªèƒ½å¤Ÿå°½é‡æ‹Ÿåˆæ•°æ®çš„é¢„æµ‹å‡½æ•°zï¼Œå¹¶é€šè¿‡å‘é¢„æµ‹å‡½æ•°ä¸­è¾“å…¥ç‰¹å¾çŸ©é˜µæ¥è·å–ç›¸åº”çš„æ ‡ç­¾å€¼yã€‚

## é€»è¾‘å›å½’çš„ä¼˜ç‚¹

- é¦–å…ˆå¿…é¡»è¦å£°æ˜çš„ä¸€ç‚¹å°±æ˜¯é€»è¾‘å›å½’æ˜¯ä¸€ä¸ªå—å·¥ä¸šå•†ä¸šçƒ­çˆ±ï¼Œä½¿ç”¨å¹¿æ³›çš„æ¨¡å‹ã€‚
  - 1.é€»è¾‘å›å½’å¯¹çº¿æ€§å…³ç³»ï¼ˆç‰¹å¾ä¸æ ‡ç­¾ä¹‹é—´çš„çº¿æ€§å…³ç³»æå¼ºçš„æ•°æ®ï¼‰çš„æ‹Ÿåˆæ•ˆæœå¥½åˆ°ä¸§å¿ƒç—…ç‹‚ï¼Œæ¯”å¦‚é‡‘èé¢†åŸŸä¸­çš„ä¿¡ç”¨å¡æ¬ºè¯ˆï¼Œè¯„åˆ†å¡åˆ¶ä½œï¼Œç”µå•†ä¸­çš„è¥é”€é¢„æµ‹ç­‰ç­‰ç›¸å…³çš„æ•°æ®ï¼Œéƒ½æ˜¯é€»è¾‘å›å½’çš„å¼ºé¡¹ã€‚ç›¸å¯¹ï¼Œé€»è¾‘å›å½’åœ¨éçº¿æ€§æ•°æ®ä¸­çš„æ•ˆæœæœ‰æ—¶å€™æ¯”ççŒœè¿˜ä¸å¦‚ï¼Œå¦‚æœä½ äº‹å…ˆçŸ¥é“ä½ çš„æ•°æ®ä¹‹é—´çš„ç»ƒä¹ æ˜¯éçº¿æ€§çš„ï¼Œåƒä¸‡ä¸€å®šä¸è¦ä½¿ç”¨é€»è¾‘å›å½’ï¼ï¼ï¼
  - 2.é€»è¾‘å›å½’è®¡ç®—å¿«:å¯¹äºçº¿æ€§æ•°æ®ï¼Œé€»è¾‘å›å½’çš„æ‹Ÿåˆå’Œè®¡ç®—éƒ½éå¸¸å¿«ï¼Œè®¡ç®—æ•ˆç‡ä¼˜äºSVMå’Œéšæœºæ£®æ—ï¼Œäº²æµ‹è¡¨ç¤ºåœ¨å¤§å‹æ•°æ®ä¸Šå°¤å…¶èƒ½çœ‹å‡ºåŒºåˆ«ã€‚
  - 3.é€»è¾‘å›å½’è¿”å›çš„åˆ†ç±»ç»“æœä¸æ˜¯å›ºå®šçš„0ï¼Œ1ï¼Œè€Œæ˜¯ä»¥å°æ•°å½¢å¼å‘ˆç°çš„ç±»æ¦‚ç‡æ•°å­—:æˆ‘ä»¬å› æ­¤å¯ä»¥æŠŠé€»è¾‘å›å½’è¿”å›çš„ç»“æœå½“æˆè¿ç»­å‹æ•°æ®æ¥åˆ©ç”¨ã€‚æ¯”å¦‚åœ¨è¯„åˆ†å¡åˆ¶ä½œæ—¶ï¼Œæˆ‘ä»¬ä¸ä»…éœ€è¦åˆ¤æ–­å®¢æˆ·æ˜¯å¦ä¼šè¿çº¦ï¼Œè¿˜éœ€è¦ç»™å‡ºç¡®å®šçš„â€ä¿¡ç”¨åˆ†â€œï¼Œè€Œè¿™ä¸ªä¿¡ç”¨åˆ†çš„è®¡ç®—å°±éœ€è¦ä½¿ç”¨ç±»æ¦‚ç‡è®¡ç®—å‡ºçš„å¯¹æ•°å‡ ç‡ï¼ˆæ¦‚ç‡ï¼‰ï¼Œ ã€‚
- æ€»ç»“

  > ç”±æ­¤ï¼Œæˆ‘ä»¬å·²ç»äº†è§£äº†é€»è¾‘å›å½’çš„æœ¬è´¨ï¼Œå®ƒæ˜¯ä¸€ä¸ªè¿”å›å¯¹æ•°å‡ ç‡çš„åœ¨çº¿æ€§æ•°æ®ä¸Šè¡¨ç°ä¼˜å¼‚çš„åˆ†ç±»å™¨ï¼Œå®ƒä¸»è¦è¢«åº”ç”¨åœ¨é‡‘èé¢†åŸŸã€‚æ³¨æ„ï¼Œè™½ç„¶æˆ‘ä»¬ç†Ÿæ‚‰çš„é€»è¾‘å›å½’é€šå¸¸è¢«ç”¨äºå¤„ç†äºŒåˆ†ç±»é—®é¢˜ï¼Œä½†é€»è¾‘å›å½’ä¹Ÿå¯ä»¥åšå¤šåˆ†ç±»ã€‚

## é€»è¾‘å›å½’çš„æŸå¤±å‡½æ•°

- åœ¨é€»è¾‘å›å½’åˆ†ç±»çš„æ—¶å€™ï¼Œä¸ç®¡åŸå§‹æ ·æœ¬ä¸­çš„ç±»åˆ«ä½¿ç”¨æ€æ ·çš„å€¼æˆ–è€…æ–‡å­—è¡¨ç¤ºï¼Œé€»è¾‘å›å½’ç»Ÿä¸€å°†å…¶è§†ä¸º0ç±»åˆ«å’Œ1ç±»åˆ«ã€‚

- å› ä¸ºé€»è¾‘å›å½’ä¹Ÿé‡‡ç”¨äº†å¯»æ‰¾ç‰¹å¾å’Œç›®æ ‡ä¹‹é—´çš„æŸç§å…³ç³»ï¼Œåˆ™æ¯ä¸ªç‰¹å¾ä¹Ÿæ˜¯æœ‰æƒé‡çš„å°±æ˜¯wï¼Œé‚£ä¹ˆä¹Ÿä¼šå­˜åœ¨çœŸå®å€¼å’Œé¢„æµ‹å€¼ä¹‹é—´çš„è¯¯å·®ï¼ˆæŸå¤±å‡½æ•°ï¼‰ï¼Œé‚£ä¹ˆé€»è¾‘å›å½’çš„æŸå¤±å‡½æ•°å’Œçº¿æ€§å›å½’çš„æŸå¤±å‡½æ•°æ˜¯å¦ä¸€æ ·å‘¢ï¼Ÿ

  - ç”±äºé€»è¾‘å›å½’æ˜¯ç”¨äºåˆ†ç±»çš„ï¼Œå› æ­¤è¯¥æŸå¤±å‡½æ•°å’Œçº¿æ€§å›å½’çš„æŸå¤±å‡½æ•°æ˜¯ä¸ä¸€æ ·çš„ï¼é€»è¾‘å›å½’é‡‡ç”¨çš„æŸå¤±å‡½æ•°æ˜¯ï¼šå¯¹æ•°ä¼¼ç„¶æŸå¤±å‡½æ•°ï¼š

- æ³¨æ„ï¼šæ²¡æœ‰æ±‚è§£å‚æ•°éœ€æ±‚çš„æ¨¡å‹æ˜¯æ²¡æœ‰æŸå¤±å‡½æ•°çš„ï¼Œæ¯”å¦‚KNNï¼Œå†³ç­–æ ‘ã€‚

- æŸå¤±å‡½æ•°è¢«å†™ä½œå¦‚ä¸‹
  - ä¸ºä»€ä¹ˆä½¿ç”¨-logå‡½æ•°ä¸ºæŸå¤±å‡½æ•°ï¼ŒæŸå¤±å‡½æ•°çš„æœ¬è´¨å°±æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬é¢„æµ‹å¯¹äº†ï¼Œåˆ™æ²¡æœ‰æŸå¤±ï¼Œåä¹‹åˆ™æŸå¤±éœ€è¦å˜çš„å¾ˆå¤§ï¼Œè€Œ-logå‡½æ•°åœ¨ã€0ï¼Œ1ã€‘ä¹‹é—´æ­£å¥½ç¬¦åˆè¿™ä¸€ç‚¹ã€‚
    - -log(h)è¡¨ç¤ºåˆ†ç±»åˆ°æ­£ä¾‹1çš„æŸå¤±

    - -log(1-h)è¡¨ç¤ºåˆ†ç±»åˆ°åä¾‹0çš„æŸå¤±

      ![1587366200330](asserts/1587366200330.png)

      ![1587366214112](asserts/1587366214112.png)

      ![1587366229182](asserts/1587366229182.png)

    - æŸå¤±å‡½æ•°è¡¨å¾é¢„æµ‹å€¼ä¸çœŸå®å€¼ä¹‹é—´çš„å·®å¼‚ç¨‹åº¦ï¼Œå¦‚æœé¢„æµ‹å€¼ä¸çœŸå®å€¼è¶Šæ¥è¿‘åˆ™æŸå¤±å‡½æ•°åº”è¯¥è¶Šå°

    - æ³¨æ„

      > ç”±äºæˆ‘ä»¬è¿½æ±‚æŸå¤±å‡½æ•°çš„æœ€å°å€¼ï¼Œè®©æ¨¡å‹åœ¨è®­ç»ƒé›†ä¸Šè¡¨ç°æœ€ä¼˜ï¼Œå¯èƒ½ä¼šå¼•å‘å¦ä¸€ä¸ªé—®é¢˜:å¦‚æœæ¨¡å‹åœ¨è®­ç»ƒé›†ä¸Šè¡¨ç¤ºä¼˜ç§€ï¼Œå´åœ¨æµ‹è¯•é›†ä¸Šè¡¨ç°ç³Ÿç³•ï¼Œæ¨¡å‹å°±ä¼šè¿‡æ‹Ÿåˆã€‚æ‰€ä»¥æˆ‘ä»¬è¿˜æ˜¯éœ€è¦ä½¿ç”¨æ§åˆ¶è¿‡æ‹Ÿåˆçš„æŠ€æœ¯æ¥å¸®åŠ©æˆ‘ä»¬è°ƒæ•´æ¨¡å‹ï¼Œå¯¹é€»è¾‘å›å½’ä¸­è¿‡æ‹Ÿåˆçš„æ§åˆ¶ï¼Œé€šè¿‡æ­£åˆ™åŒ–æ¥å®ç°ã€‚

- æŸå¤±å‡½æ•°è§£é‡Š

  - yilog(h)è¡¨ç¤ºåˆ†ç±»åˆ°çœŸå®æ ‡ç­¾çš„æ­£ä¾‹çš„æŸå¤±ï¼Œæ ¹æ®-logå‡½æ•°å¾—çŸ¥å¦‚æœåˆ†ç±»æ­£ç¡®åˆ™æŸå¤±å€¼å°ï¼Œåä¹‹æŸå¤±å¤§

  - -(1-yi)log(1-h)è¡¨ç¤ºåˆ†ç±»åˆ°çœŸå®æ ‡ç­¾åä¾‹çš„æŸå¤±ï¼Œæ ¹æ®-logå‡½æ•°å¾—çŸ¥å¦‚æœåˆ†ç±»æ­£ç¡®åˆ™æŸå¤±å°ï¼Œåä¹‹æŸå¤±å¤§

  - é‚£ä¹ˆä¸¤è€…ç›¸åŠ å°±è·å¾—äº†é€»è¾‘å›å½’æ¨¡å‹æ€»åˆ†ç±»ç»“æœçš„æŸå¤±!

  - å°†é€»è¾‘å›å½’å¯¹åº”çš„é¢„æµ‹ç»“æœå¸¦å…¥æŸå¤±å‡½æ•°

    ![1587366340073](asserts/1587366340073.png)

- æ­£åˆ™åŒ–

  - æ­£åˆ™åŒ–æ˜¯ç”¨æ¥é˜²æ­¢æ¨¡å‹è¿‡æ‹Ÿåˆçš„è¿‡ç¨‹ï¼Œå¸¸ç”¨çš„æœ‰L1æ­£åˆ™åŒ–å’ŒL2æ­£åˆ™åŒ–ä¸¤ç§é€‰é¡¹ï¼Œåˆ†åˆ«é€šè¿‡åœ¨æŸå¤±å‡½æ•°ååŠ ä¸Šå‚æ•°å‘é‡ğ›‰çš„L1èŒƒå¼å’ŒL2èŒƒå¼çš„å€æ•°æ¥å®ç°ã€‚è¿™ä¸ªå¢åŠ çš„èŒƒå¼ï¼Œè¢«ç§°ä¸ºâ€œæ­£åˆ™é¡¹â€ï¼Œä¹Ÿè¢«ç§°ä¸º"æƒ©ç½šé¡¹"ã€‚

  - L1èŒƒå¼

    > L1èŒƒå¼è¡¨ç°ä¸ºå‚æ•°å‘é‡ğ›‰ä¸­çš„æ¯ä¸ªå‚æ•°çš„ç»å¯¹å€¼ä¹‹å’Œ
    >
    > ![1587366378830](asserts/1587366378830.png)

  - L2èŒƒå¼

    > L2èŒƒæ•°è¡¨ç°ä¸ºå‚æ•°å‘é‡ğ›‰ä¸­çš„æ¯ä¸ªå‚æ•°çš„å¹³æ–¹å’Œçš„å¼€æ–¹å€¼
    >
    > ![1587366425648](asserts/1587366425648.png)

  - å…¶ä¸­J(ğ›‰)æ˜¯æˆ‘ä»¬ä¹‹å‰æè¿‡çš„æŸå¤±å‡½æ•°ï¼ŒCæ˜¯ç”¨æ¥æ§åˆ¶æ­£åˆ™åŒ–ç¨‹åº¦çš„è¶…å‚æ•°ï¼Œnæ˜¯æ–¹ç¨‹ä¸­ç‰¹å¾çš„æ€»æ•°ï¼Œä¹Ÿæ˜¯æ–¹ç¨‹ä¸­å‚æ•°çš„æ€»æ•°ï¼Œjä»£è¡¨æ¯ä¸ªğ›‰å‚æ•°(wç³»æ•°)ã€‚åœ¨è¿™é‡Œï¼Œjè¦å¤§äºç­‰äº1ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬çš„å‚æ•°å‘é‡ä¸­ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ğ›‰0ï¼Œæ˜¯æˆ‘ä»¬çš„æˆªè·å®ƒé€šå¸¸æ˜¯ä¸å‚ä¸æ­£åˆ™åŒ–çš„ã€‚

- æ€»ç»“

  - æˆ‘ä»¬çŸ¥é“æŸå¤±å‡½æ•°çš„æŸå¤±å€¼è¶Šå°ï¼ˆåœ¨è®­ç»ƒé›†ä¸­é¢„æµ‹å€¼å’ŒçœŸå®å€¼è¶Šæ¥è¿‘ï¼‰åˆ™é€»è¾‘å›å½’æ¨¡å‹å°±è¶Šæœ‰å¯èƒ½å‘ç”Ÿè¿‡æ‹Ÿåˆï¼ˆæ¨¡å‹åªåœ¨è®­ç»ƒé›†ä¸­è¡¨ç°çš„å¥½ï¼Œåœ¨æµ‹è¯•é›†è¡¨ç°çš„ä¸å¥½ï¼‰çš„ç°è±¡ã€‚é€šè¿‡æ­£åˆ™åŒ–çš„L1å’ŒL2èŒƒå¼å¯ä»¥åŠ å…¥æƒ©ç½šé¡¹Cæ¥çŸ«æ­£æ¨¡å‹çš„æ‹Ÿåˆåº¦ã€‚å› ä¸ºCè¶Šå°åˆ™æŸå¤±å‡½æ•°ä¼šè¶Šå¤§è¡¨ç¤ºæ­£åˆ™åŒ–çš„æ•ˆåŠ›è¶Šå¼ºï¼Œå‚æ•°ğ›‰ä¼šè¢«é€æ¸å‹ç¼©çš„è¶Šæ¥è¶Šå°ã€‚
  - æ³¨æ„ï¼šL1æ­£åˆ™åŒ–ä¼šå°†å‚æ•°wå‹ç¼©ä¸º0ï¼ŒL2æ­£åˆ™åŒ–åªä¼šè®©å‚æ•°å°½é‡å°ï¼Œä¸ä¼šå–åˆ°0ã€‚

- L1å’ŒL2èŒƒå¼çš„åŒºåˆ«

  - åœ¨L1æ­£åˆ™åŒ–åœ¨é€æ¸åŠ å¼ºçš„è¿‡ç¨‹ä¸­ï¼Œæºå¸¦ä¿¡æ¯é‡å°çš„ã€å¯¹æ¨¡å‹è´¡çŒ®ä¸å¤§çš„ç‰¹å¾çš„å‚æ•°wï¼Œä¼šæ¯”æºå¸¦å¤§é‡ä¿¡æ¯çš„ã€å¯¹æ¨¡å‹ æœ‰å·¨å¤§è´¡çŒ®çš„ç‰¹å¾çš„å‚æ•°æ›´å¿«åœ°å˜æˆ0ï¼Œæ‰€ä»¥L1æ­£åˆ™åŒ–æœ¬è´¨æ˜¯ä¸€ä¸ªç‰¹å¾é€‰æ‹©çš„è¿‡ç¨‹ã€‚L1æ­£åˆ™åŒ–è¶Šå¼ºï¼Œå‚æ•°å‘é‡ä¸­å°±è¶Šå¤šçš„å‚æ•°ä¸º0ï¼Œé€‰å‡ºæ¥çš„ç‰¹å¾å°±è¶Šå°‘ï¼Œä»¥æ­¤æ¥é˜²æ­¢è¿‡æ‹Ÿåˆã€‚å› æ­¤ï¼Œå¦‚æœ**ç‰¹å¾é‡å¾ˆå¤§ï¼Œæ•°æ®ç»´åº¦å¾ˆé«˜**ï¼Œæˆ‘ä»¬ä¼šå€¾å‘äºä½¿ç”¨L1æ­£åˆ™åŒ–ã€‚

  - L2æ­£åˆ™åŒ–åœ¨åŠ å¼ºçš„è¿‡ç¨‹ä¸­ï¼Œä¼šå°½é‡è®©æ¯ä¸ªç‰¹å¾å¯¹æ¨¡å‹éƒ½æœ‰ä¸€äº›å°çš„è´¡çŒ®ï¼Œä½†æºå¸¦ä¿¡æ¯å°‘ï¼Œå¯¹æ¨¡å‹è´¡çŒ®ä¸å¤§çš„ç‰¹å¾çš„å‚æ•°wä¼šéå¸¸æ¥è¿‘äº0ã€‚é€šå¸¸æ¥è¯´ï¼Œå¦‚æœæˆ‘ä»¬çš„ä¸»è¦ç›®çš„åªæ˜¯ä¸ºäº†é˜²æ­¢è¿‡æ‹Ÿåˆï¼Œé€‰æ‹©L2æ­£åˆ™åŒ–å°±è¶³å¤Ÿäº†ã€‚ä½†æ˜¯å¦‚æœé€‰æ‹©L2æ­£åˆ™åŒ–åè¿˜æ˜¯è¿‡æ‹Ÿåˆï¼Œæ¨¡å‹åœ¨æœªçŸ¥æ•°æ®é›†ä¸Šçš„æ•ˆæœè¡¨ç°å¾ˆå·®ï¼Œå°±å¯ä»¥è€ƒè™‘L1æ­£åˆ™åŒ–ã€‚

  - å»ºç«‹ä¸¤ä¸ªé€»è¾‘å›å½’ï¼ŒL1æ­£åˆ™åŒ–å’ŒL2æ­£åˆ™åŒ–çš„å·®åˆ«å°±ä¸€ç›®äº†ç„¶äº†

    ```python
    from sklearn.linear_model import LogisticRegression as LR
    from sklearn.datasets import load_breast_cancer
    import numpy as np
    from sklearn.model_selection import train_test_split
    
    #åŠ è½½æ ·æœ¬æ•°æ®
    data = load_breast_cancer()
    X = data.data
    y = data.target
    #å»ºç«‹ä¸¤ç§æ¨¡å‹
    lrl1 = LR(penalty="l1",C=0.5)
    lrl2 = LR(penalty="l2",C=0.5)
    
    #é€»è¾‘å›å½’çš„é‡è¦å±æ€§coef_ï¼ŒæŸ¥çœ‹æ¯ä¸ªç‰¹å¾æ‰€å¯¹åº”çš„å‚æ•° 
    lrl1.fit(X,y)
    print('L1èŒƒå¼ï¼š',lrl1.coef_)
    
    lrl2 = lrl2.fit(X,y)
    print('L2èŒƒå¼ï¼š',lrl2.coef_)
    ---------------------------
    L1èŒƒå¼ï¼š [[ 3.62646883  0.02897659 -0.1018452  -0.01445405  0.          0.
       0.          0.          0.          0.          0.          0.5002826
       0.         -0.07202131  0.          0.          0.          0.
       0.          0.          0.17041941 -0.24235439 -0.13449663 -0.01582505
       0.          0.         -2.19648856  0.          0.          0.        ]]
    L2èŒƒå¼ï¼š [[ 1.61543234e+00  1.02284415e-01  4.78483684e-02 -4.43927107e-03
      -9.42247882e-02 -3.01420673e-01 -4.56065677e-01 -2.22346063e-01
      -1.35660484e-01 -1.93917198e-02  1.61646580e-02  8.84531037e-01
       1.20301273e-01 -9.47422278e-02 -9.81687769e-03 -2.37399092e-02
      -5.71846204e-02 -2.70190106e-02 -2.77563737e-02  1.98122260e-04
       1.26394730e+00 -3.01762592e-01 -1.72784162e-01 -2.21786411e-02
      -1.73339657e-01 -8.79070550e-01 -1.16325561e+00 -4.27661014e-01
      -4.20612369e-01 -8.69820058e-02]]
    ```

- æ¢¯åº¦ä¸‹é™

  - é€»è¾‘å›å½’çš„æ•°å­¦ç›®çš„æ˜¯æ±‚è§£èƒ½å¤Ÿè®©æ¨¡å‹æœ€ä¼˜åŒ–ï¼Œæ‹Ÿåˆç¨‹åº¦æœ€å¥½çš„å‚æ•°ğ›‰çš„å€¼ï¼Œå³æ±‚è§£èƒ½å¤Ÿè®©æŸå¤±å‡½æ•°J(ğ›‰)æœ€å°åŒ–çš„ğ›‰å€¼ã€‚

  - æ¢¯åº¦ä¸‹é™åŸç†ä»‹ç»

    > å‡è®¾ç°åœ¨æœ‰ä¸€ä¸ªå¸¦ä¸¤ä¸ªç‰¹å¾å¹¶ä¸”æ²¡æœ‰æˆªè·çš„é€»è¾‘å›å½’y(x1,x2)ï¼Œä¸¤ä¸ªç‰¹å¾æ‰€å¯¹åº”çš„å‚æ•°åˆ†åˆ«ä¸º[ğ›‰1,ğ›‰2]ã€‚ä¸‹é¢è¿™ä¸ªåä¸½çš„å¹³é¢å°±æ˜¯æˆ‘ä»¬çš„æŸå¤±å‡½æ•° J(ğ›‰1,ğ›‰2)åœ¨ä»¥ğ›‰1,ğ›‰2å’ŒJä¸ºåæ ‡è½´çš„ä¸‰ç»´ç«‹ä½“åæ ‡ç³»ä¸Šçš„å›¾åƒã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å¯»æ±‚çš„æ˜¯æŸå¤±å‡½æ•°çš„æœ€å°å€¼,ä¹Ÿå°±æ˜¯å›¾åƒçš„æœ€ä½ç‚¹ã€‚

    <img src="./asserts/æ¢¯åº¦ä¸‹é™.gif">

  - é‚£æˆ‘ä»¬æ€ä¹ˆåšå‘¢?æˆ‘åœ¨è¿™ä¸ªå›¾åƒä¸Šéšæœºæ”¾ä¸€ä¸ªå°çƒï¼Œå½“æˆ‘æ¾æ‰‹ï¼Œè¿™ä¸ªå°çƒå°±ä¼šé¡ºç€è¿™ä¸ªåä¸½çš„å¹³é¢æ»šè½ï¼Œç›´åˆ°æ»šåˆ° æ·±è“è‰²çš„åŒºåŸŸâ€”â€”æŸå¤±å‡½æ•°çš„æœ€ä½ç‚¹ã€‚ä¸ºäº†ä¸¥æ ¼ç›‘æ§è¿™ä¸ªå°çƒçš„è¡Œä¸ºï¼Œæˆ‘è®©å°çƒæ¯æ¬¡æ»šåŠ¨çš„è·ç¦»æœ‰é™ï¼Œä¸è®©ä»–ä¸€æ¬¡ æ€§æ»šåˆ°æœ€ä½ç‚¹ï¼Œå¹¶ä¸”æœ€å¤šåªå…è®¸å®ƒæ»šåŠ¨100æ­¥ï¼Œè¿˜è¦è®°ä¸‹å®ƒæ¯æ¬¡æ»šåŠ¨çš„æ–¹å‘ï¼Œç›´åˆ°å®ƒæ»šåˆ°å›¾åƒä¸Šçš„æœ€ä½ç‚¹ã€‚

  - å¯ä»¥çœ‹è§ï¼Œå°çƒä»é«˜å¤„æ»‘è½ï¼Œåœ¨æ·±è“è‰²çš„åŒºåŸŸä¸­æ¥å›éœ‡è¡ï¼Œæœ€ç»ˆåœç•™åœ¨äº†å›¾åƒå‡¹é™·å¤„çš„æŸä¸ªç‚¹ä¸Šã€‚éå¸¸æ˜æ˜¾ï¼Œæˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°å‡ ä¸ªç°è±¡

    - é¦–å…ˆï¼Œå°çƒå¹¶ä¸æ˜¯ä¸€å¼€å§‹å°±ç›´å‘ç€æœ€ä½ç‚¹å»çš„ï¼Œå®ƒå…ˆä¸€å£æ°”å†²åˆ°äº†è“è‰²åŒºåŸŸè¾¹ç¼˜ï¼Œåæ¥åˆæŠ˜å›æ¥ï¼Œæˆ‘ä»¬å·²ç»è§„å®šäº†å°çƒæ˜¯å¤šæ¬¡æ»šåŠ¨ï¼Œæ‰€ä»¥å¯è§ï¼Œå°çƒæ¯æ¬¡æ»šåŠ¨çš„æ–¹å‘éƒ½æ˜¯ä¸åŒçš„ã€‚
    - å¦å¤–ï¼Œå°çƒåœ¨è¿›å…¥æ·±è“è‰²åŒºåŸŸåï¼Œå¹¶æ²¡æœ‰ç›´æ¥æ‰¾åˆ°æŸä¸ªç‚¹ï¼Œè€Œæ˜¯åœ¨æ·±è“è‰²åŒºåŸŸä¸­æ¥å›éœ‡è¡äº†æ•°æ¬¡æ‰åœä¸‹ã€‚è¿™æœ‰ä¸¤ç§å¯èƒ½
      - 1) å°çƒå·²ç»æ»šåˆ°äº†å›¾åƒçš„æœ€ä½ç‚¹ï¼Œæ‰€ä»¥åœä¸‹äº†ï¼Œ
      - 2) ç”±äºæˆ‘è®¾å®šçš„æ­¥æ•°é™åˆ¶ï¼Œå°çƒè¿˜æ²¡æœ‰æ‰¾åˆ°æœ€ä½ç‚¹ï¼Œä½†ä¹Ÿåªå¥½åœ¨100æ­¥çš„æ—¶å€™åœä¸‹äº†ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå°çƒä¸ä¸€å®šæ»šåˆ°äº†å›¾åƒçš„æœ€ä½å¤„ã€‚
    - ä½†æ— è®ºå¦‚ä½•ï¼Œå°çƒåœä¸‹çš„å°±æ˜¯æˆ‘ä»¬åœ¨ç°æœ‰çŠ¶å†µä¸‹å¯ä»¥è·å¾—çš„å”¯ä¸€ç‚¹äº†ã€‚å¦‚æœæˆ‘ä»¬å¤Ÿå¹¸è¿ï¼Œè¿™ä¸ªç‚¹å°±æ˜¯å›¾åƒçš„æœ€ä½ç‚¹ï¼Œé‚£æˆ‘ä»¬åªè¦æ‰¾åˆ°è¿™ä¸ªç‚¹çš„å¯¹åº”åæ ‡(ğ›‰1ï¼Œğ›‰2ï¼ŒJ)ï¼Œå°±å¯ä»¥è·å–èƒ½å¤Ÿè®©æŸå¤±å‡½æ•°æœ€å°çš„å‚æ•°å–å€¼[ğ›‰1,ğ›‰2]äº†ã€‚å¦‚æ­¤ï¼Œæ¢¯åº¦ä¸‹é™çš„è¿‡ç¨‹å°±å·²ç»å®Œæˆã€‚

  - åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå°çƒå…¶å®å°±æ˜¯ä¸€ç»„ç»„çš„åæ ‡ç‚¹(ğ›‰1ï¼Œğ›‰2ï¼ŒJ);å°çƒæ¯æ¬¡æ»šåŠ¨çš„æ–¹å‘å°±æ˜¯é‚£ä¸€ä¸ªåæ ‡ç‚¹çš„æ¢¯åº¦å‘é‡çš„æ–¹ å‘ï¼Œå› ä¸ºæ¯æ»šåŠ¨ä¸€æ­¥ï¼Œå°çƒæ‰€åœ¨çš„ä½ç½®éƒ½å‘ç”Ÿå˜åŒ–ï¼Œåæ ‡ç‚¹å’Œåæ ‡ç‚¹å¯¹åº”çš„æ¢¯åº¦å‘é‡éƒ½å‘ç”Ÿäº†å˜åŒ–ï¼Œæ‰€ä»¥æ¯æ¬¡æ»šåŠ¨ çš„æ–¹å‘ä¹Ÿéƒ½ä¸ä¸€æ ·;äººä¸ºè®¾ç½®çš„100æ¬¡æ»šåŠ¨é™åˆ¶ï¼Œå°±æ˜¯sklearnä¸­é€»è¾‘å›å½’çš„å‚æ•°max_iterï¼Œä»£è¡¨ç€èƒ½èµ°çš„æœ€å¤§æ­¥æ•°.

  - æ‰€ä»¥æ¢¯åº¦ä¸‹é™ï¼Œå…¶å®å°±æ˜¯åœ¨ä¼—å¤š[ğ›‰1,ğ›‰2]å¯èƒ½çš„å€¼ä¸­éå†ï¼Œä¸€æ¬¡æ¬¡æ±‚è§£åæ ‡ç‚¹çš„æ¢¯åº¦å‘é‡,ä¸æ–­è®©æŸå¤±å‡½æ•°çš„å–å€¼Jé€æ¸é€¼è¿‘æœ€å°å€¼ï¼Œå†è¿”å›è¿™ä¸ªæœ€å°å€¼å¯¹åº”çš„å‚æ•°å–å€¼[ğ›‰1,ğ›‰2]çš„è¿‡ç¨‹ã€‚

## é€»è¾‘å›å½’API

- from sklearn.linear_model import LogisticRegression

- è¶…å‚æ•°ä»‹ç»

  - penalty

    > å¯ä»¥è¾“å…¥l1æˆ–è€…l2æ¥æŒ‡å®šä½¿ç”¨å“ªä¸€ç§æ­£åˆ™åŒ–æ–¹å¼ã€‚ä¸å¡«å†™é»˜è®¤"l2"ã€‚ æ³¨æ„ï¼Œè‹¥é€‰æ‹©"l1"æ­£åˆ™åŒ–ï¼Œå‚æ•°solverä»…èƒ½å¤Ÿä½¿ç”¨æ±‚è§£æ–¹å¼â€liblinear"å’Œ"sagaâ€œï¼Œè‹¥ä½¿ç”¨â€œl2â€æ­£åˆ™ åŒ–ï¼Œå‚æ•°solverä¸­æ‰€æœ‰çš„æ±‚è§£æ–¹å¼éƒ½å¯ä»¥ä½¿ç”¨ã€‚

  - C

    > æƒ©ç½šé¡¹ã€‚å¿…é¡»æ˜¯ä¸€ä¸ªå¤§äº0çš„æµ®ç‚¹æ•°ï¼Œä¸å¡«å†™é»˜è®¤1.0ï¼Œå³é»˜è®¤æ­£åˆ™é¡¹ä¸æŸå¤±å‡½æ•°çš„æ¯”å€¼æ˜¯1:1ã€‚Cè¶Šå°ï¼ŒæŸå¤±å‡½æ•°ä¼šè¶Šå¤§ï¼Œæ¨¡å‹å¯¹æŸå¤±å‡½æ•°çš„æƒ©ç½šè¶Šé‡ï¼Œæ­£åˆ™åŒ–çš„æ•ˆåŠ›è¶Šå¼ºï¼Œå‚æ•°ä¼šé€æ¸è¢«å‹ç¼©å¾—è¶Šæ¥è¶Šå°ã€‚

  - max_iter

    > æ¢¯åº¦ä¸‹é™ä¸­èƒ½èµ°çš„æœ€å¤§æ­¥æ•°ï¼Œé»˜è®¤å€¼ä¸º100.æ­¥æ•°çš„ä¸åŒå–å€¼å¯ä»¥å¸®åŠ©æˆ‘ä»¬è·å–ä¸åŒçš„æŸå¤±å‡½æ•°çš„æŸå¤±å€¼ã€‚ç›®å‰æ²¡æœ‰å¥½çš„åŠæ³•å¯ä»¥è®¡ç®—å‡ºæœ€ä¼˜çš„max_iterçš„å€¼ï¼Œä¸€èˆ¬æ˜¯é€šè¿‡ç»˜åˆ¶å­¦ä¹ æ›²çº¿å¯¹å…¶è¿›è¡Œå–å€¼ã€‚

  - solver

    > æˆ‘ä»¬ä¹‹å‰æåˆ°çš„æ¢¯åº¦ä¸‹é™æ³•ï¼Œåªæ˜¯æ±‚è§£é€»è¾‘å›å½’å‚æ•°ğ›‰çš„ä¸€ç§æ–¹æ³•ã€‚sklearnä¸ºæˆ‘ä»¬æä¾›äº†å¤šç§é€‰æ‹©ï¼Œè®©æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸åŒçš„æ±‚è§£å™¨æ¥è®¡ç®—é€»è¾‘å›å½’ã€‚æ±‚è§£å™¨çš„é€‰æ‹©ï¼Œç”±å‚æ•°"solver"æ§åˆ¶ï¼Œå…±æœ‰äº”ç§é€‰æ‹©ã€‚

    - liblinearï¼šæ˜¯äºŒåˆ†ç±»ä¸“ç”¨ï¼Œä¹Ÿæ˜¯ç°åœ¨çš„é»˜è®¤æ±‚è§£å™¨ã€‚
    - lbfgs,newton-cg,sag,saga:æ˜¯å¤šåˆ†ç±»ä¸“ç”¨ï¼Œå‡ ä¹ä¸ç”¨ã€‚

    ![1587437124708](asserts/1587437124708.png)

  - multi_class

    > è¾“å…¥"ovr", "multinomial", "auto"æ¥å‘ŠçŸ¥æ¨¡å‹ï¼Œæˆ‘ä»¬è¦å¤„ç†çš„åˆ†ç±»é—®é¢˜çš„ç±»å‹ã€‚é»˜è®¤æ˜¯"ovr"ã€‚

    - 'ovr':è¡¨ç¤ºåˆ†ç±»é—®é¢˜æ˜¯äºŒåˆ†ç±»ï¼Œæˆ–è®©æ¨¡å‹ä½¿ç”¨"ä¸€å¯¹å¤š"çš„å½¢å¼æ¥å¤„ç†å¤šåˆ†ç±»é—®é¢˜ã€‚
    - 'multinomial':è¡¨ç¤ºå¤„ç†å¤šåˆ†ç±»é—®é¢˜ï¼Œè¿™ç§è¾“å…¥åœ¨å‚æ•°solveræ˜¯'liblinear'æ—¶ä¸å¯ç”¨ã€‚
    - "auto":è¡¨ç¤ºä¼šæ ¹æ®æ•°æ®çš„åˆ†ç±»æƒ…å†µå’Œå…¶ä»–å‚æ•°æ¥ç¡®å®šæ¨¡å‹è¦å¤„ç†çš„åˆ†ç±»é—®é¢˜çš„ç±»å‹ã€‚æ¯”å¦‚è¯´ï¼Œå¦‚æœæ•°æ®æ˜¯äºŒåˆ† ç±»ï¼Œæˆ–è€…solverçš„å–å€¼ä¸º"liblinear"ï¼Œ"auto"ä¼šé»˜è®¤é€‰æ‹©"ovr"ã€‚åä¹‹ï¼Œåˆ™ä¼šé€‰æ‹©"multinomial"ã€‚

  - class_weight

    - è¡¨ç¤ºæ ·æœ¬ä¸å¹³è¡¡å¤„ç†çš„å‚æ•°ã€‚æ ·æœ¬ä¸å¹³è¡¡æŒ‡çš„æ˜¯åœ¨ä¸€ç»„æ•°æ®ä¸­ï¼ŒæŸä¸€ç±»æ ‡ç­¾å¤©ç”Ÿå æœ‰å¾ˆå¤§çš„æ¯”ä¾‹ï¼Œæˆ–è¯¯åˆ†ç±»çš„ä»£ä»·å¾ˆé«˜ï¼Œå³æˆ‘ä»¬æƒ³è¦æ•æ‰å‡ºæŸç§ç‰¹å®šçš„åˆ†ç±»çš„æ—¶å€™çš„çŠ¶å†µã€‚ä»€ä¹ˆæƒ…å†µä¸‹è¯¯åˆ†ç±»çš„ä»£ä»·å¾ˆé«˜?

      - ä¾‹å¦‚ï¼Œæˆ‘ä»¬ç°åœ¨è¦å¯¹æ½œåœ¨çŠ¯ç½ªè€…å’Œæ™®é€šäººè¿›è¡Œåˆ†ç±»ï¼Œå¦‚æœæ²¡æœ‰èƒ½å¤Ÿè¯†åˆ«å‡ºæ½œåœ¨çŠ¯ç½ªè€…ï¼Œé‚£ä¹ˆè¿™äº›äººå°±å¯èƒ½å»å±å®³ç¤¾ä¼šï¼Œé€ æˆçŠ¯ç½ªï¼Œè¯†åˆ«å¤±è´¥çš„ä»£ä»·ä¼šéå¸¸é«˜ï¼Œä½†å¦‚æœï¼Œæˆ‘ä»¬å°†æ™®é€šäººé”™è¯¯åœ°è¯†åˆ«æˆäº†æ½œåœ¨çŠ¯ç½ªè€…ï¼Œä»£ä»·å´ç›¸å¯¹è¾ƒå°ã€‚æ‰€ä»¥æˆ‘ä»¬å®æ„¿å°†æ™®é€šäººåˆ†ç±»ä¸ºæ½œåœ¨çŠ¯ç½ªè€…åå†äººå·¥ç”„åˆ«ï¼Œä½†æ˜¯å´ä¸æ„¿å°†æ½œåœ¨çŠ¯ç½ªè€… åˆ†ç±»ä¸ºæ™®é€šäººï¼Œæœ‰ç§"å®æ„¿é”™æ€ä¸èƒ½æ”¾è¿‡"çš„æ„Ÿè§‰ã€‚
      - å†æ¯”å¦‚è¯´ï¼Œåœ¨é“¶è¡Œè¦åˆ¤æ–­â€œä¸€ä¸ªæ–°å®¢æˆ·æ˜¯å¦ä¼šè¿çº¦â€ï¼Œé€šå¸¸ä¸è¿çº¦çš„äººvsè¿çº¦çš„äººä¼šæ˜¯99:1çš„æ¯”ä¾‹ï¼ŒçœŸæ­£è¿çº¦çš„äººå…¶å®æ˜¯éå¸¸å°‘çš„ã€‚è¿™ç§åˆ†ç±»çŠ¶å†µä¸‹ï¼Œå³ä¾¿æ¨¡å‹ä»€ä¹ˆä¹Ÿä¸åšï¼Œå…¨æŠŠæ‰€æœ‰äººéƒ½å½“æˆä¸ä¼šè¿çº¦çš„äººï¼Œæ­£ç¡®ç‡ä¹Ÿèƒ½æœ‰99%ï¼Œ è¿™ä½¿å¾—æ¨¡å‹è¯„ä¼°æŒ‡æ ‡å˜å¾—æ¯«æ— æ„ä¹‰ï¼Œæ ¹æœ¬æ— æ³•è¾¾åˆ°æˆ‘ä»¬çš„â€œè¦è¯†åˆ«å‡ºä¼šè¿çº¦çš„äººâ€çš„å»ºæ¨¡ç›®çš„ã€‚

    - None

      > å› æ­¤æˆ‘ä»¬è¦ä½¿ç”¨å‚æ•°class_weightå¯¹æ ·æœ¬æ ‡ç­¾è¿›è¡Œä¸€å®šçš„å‡è¡¡ï¼Œç»™å°‘é‡çš„æ ‡ç­¾æ›´å¤šçš„æƒé‡ï¼Œè®©æ¨¡å‹æ›´åå‘å°‘æ•°ç±»ï¼Œ å‘æ•è·å°‘æ•°ç±»çš„æ–¹å‘å»ºæ¨¡ã€‚è¯¥å‚æ•°é»˜è®¤Noneï¼Œæ­¤æ¨¡å¼è¡¨ç¤ºè‡ªåŠ¨ç»™ä¸æ•°æ®é›†ä¸­çš„æ‰€æœ‰æ ‡ç­¾ç›¸åŒçš„æƒé‡ï¼Œå³è‡ªåŠ¨1: 1ã€‚

    - balanced

      > å½“è¯¯åˆ†ç±»çš„ä»£ä»·å¾ˆé«˜çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä½¿ç”¨â€balancedâ€œæ¨¡å¼ï¼Œæˆ‘ä»¬åªæ˜¯å¸Œæœ›å¯¹æ ‡ç­¾è¿›è¡Œå‡è¡¡çš„æ—¶å€™ï¼Œä»€ä¹ˆéƒ½ä¸å¡«å°± å¯ä»¥è§£å†³æ ·æœ¬ä¸å‡è¡¡é—®é¢˜ã€‚

- ä¹³è…ºç™Œæ•°æ®é›†ä¸‹ï¼Œmax_iterçš„å­¦ä¹ æ›²çº¿

  ```python
  from sklearn.linear_model import LogisticRegression as LR
  from sklearn.datasets import load_breast_cancer
  import numpy as np
  from sklearn.model_selection import train_test_split
  from sklearn.metrics import accuracy_score
  import matplotlib.pyplot as plt
  #åŠ è½½æ ·æœ¬æ•°æ®
  data = load_breast_cancer()
  X = data.data
  y = data.target
  
  l2 = []
  l2_test = []
  Xtrain, Xtest, Ytrain, Ytest = train_test_split(X,y,test_size=0.3,random_state=420)
  for i in np.arange(1,201,10):
      lrl2 = LR(penalty="l2",solver="liblinear",C=0.9,max_iter=i)
      lrl2.fit(Xtrain,Ytrain)
      
      l2.append(accuracy_score(lrl2.predict(Xtrain),Ytrain))
      l2_test.append(accuracy_score(lrl2.predict(Xtest),Ytest))
      
  graph = [l2,l2_test]
  color = ["black","red"]
  label = ["L2train","L2test"]
  plt.figure(figsize=(20,5))
  for i in range(len(graph)):
      plt.plot(np.arange(1,201,10),graph[i],color[i],label=label[i])
  plt.legend(loc=4)
  plt.xticks(np.arange(1,201,10))
  plt.show()
  ```

  ![1587452298848](asserts/1587452298848.png)

  ```python
  #é€‰æ‹©max_iter=21
  lrl2 = LR(penalty="l2",solver="liblinear",C=0.9,max_iter=21)
  lrl2.fit(Xtrain,Ytrain)
  print(accuracy_score(lrl2.predict(Xtrain),Ytrain))
  print(accuracy_score(lrl2.predict(Xtest),Ytest))
  #0.9698492462311558
  #0.935672514619883
  ```

  